
Point intermédiaire ():
[quote="sly"][/quote]
[quote="sly"][/quote]


[quote="sly"]J'allais tenter de proposer une présentation pour les "cartouches" de gauche, mais je vois que le code de dév n'est pas accessible mais juste chez dominique. Comme je vois qu'il est parti pour tenter un truc plus sophistiqué qu'il ne veut nous en dire le petit cachottier je vais m'abstenir pour l'instant de taper du code, au mieux je vais créer des images pour montrer les options que j'ai en tête.[/quote]Pour ne pas me faire accuser de jouer perso, un petit point intermédiaire avec un certain nombre d'implémentation de ce qui a été discuté, quelques variantes et propositions.

[quote="sly"]- Idée, mais sans être sûr si c'est mieux ou pas : En terme d'homogénéité, lorsque l'on passe son pointeur sur une cabane du site, on obtient un bulle qui indique "nom + alti + place" mais si on passe sur une icone issue d'osm, on a son nom, mais c'est en cliquant qu'on obtient les détails. Ne serait il pas plus homogène de faire un truc qui s'active au survol souris avec l'encadré résultant du clic ?[/quote][quote="Dominique"]- Soit l'étiquette reste affichée après le survol du marqueur (dans ce cas, on peut cliquer le lien !) mais ça fait une étiquette qui reste bêtement au milieu de la carte jusqu'à ce qu'on clique sur la carte ou qu'on survolé un autre marqueur. [/quote][quote="sly"]le comportement d'avant c'était disparition si on s'en va de la bulle et là elle reste... 
Je n'avais même par remarqué pour les points wri. 
Ouep, moi je trouve ça mieux comme ça.[/quote]Fait de façon générale: une étiquette s'affiche au survol, reste jusqu'au survol du point suivant ou click sur la carte et qui contient des infos condensées et un lien à cliquer suivant le contexte.

Proposition (en démo): j'ai distingué par des couleurs de fond d'étiquette:
- les points WRI en banc
- les services en bleu
- les autres sites en vert
Votre avis ?


[quote="sly"]-Quand le zoom est trop faible, et qu'on clique la case, il ne se passe rien, difficile alors de bien comprendre pourquoi ça ne marche pas. La version luxe serait un message subtile et rouge indiquant "Zoom insuffisant pour activer Hôtel/camping/alimentation" qu'on pourrait recycler pour un "Zoom insuffisant, seul 200 points ont été affichés"[/quote][quote="sly"]... Si on est pas assez zoomé un petit message rouge l'indique puis disparaît et le chargement en cours est indiqué. oui là, c'est quasi ce qu'il y avait dans mon rêve...[/quote][quote="sly"]"services" quand on est pas assez zoomé, bon, ça fait un peu solution du pauvre, j'ai cru que c'était un lien que j'avais déjà visité ![/quote]J'ai mis une grosse loupe rouge qui s'affiche quand le zoom est trop faible (avec un petit message au survol si on n'a pas compris la première fois)
A faire: l'effacer quand la couche n'est pas sélectionnée.
A faire: activer un sablier quand les data chargent.
A faire: distinguer les couches service:
- Hôtel
- Camping
- Alimentation

[quote="sly"]Autre option, la case se grise et ne peut être cochée si on ne zoom pas assez.
Et une version light, un "message apparaît" quand on passe la souris sur la case indiquant un truc genre "ne s'active que sur zoom fort"[/quote]ça risque de rester en version light.

[quote="sly"][quote="Dominique"]Quid des parkings (En montagne, c'est une information importante) et arrêts de bus (pas sur que ce soit sur OSM) ?
[/quote]
Tout existe dans OSM, le problème c'est l'exhaustivité mais c'est le principe du mode contributif.

Sur le principe, je n'ai rien contre poursuivre l'idée en ajoutant les parking, les arrêts de bus, les boulangeries et plus encore si le coeur nous en dit. Mais, et je vais débattre de ça dans un autre sujet car c'est la même réflexion que pour chemineur/c2c/prc/osm sur wri.
- Ne pas faire doublon avec wri
- Tout afficher en bloc sans pouvoir choisir n'est pas pratique[/quote]J'ai ajouté une couche parking. (j'aime bien parquer ma voiture en toute sécurité)

Proposition (en démo): transparence 50% des pictos services (Hôtel & parking) pour paraître moins importants que les autres et alléger l'affichage. (sauf camping & alimentation qui sont déjà frêles)


WRI
===
Mieux afficher le besoin de zoom sur la couche !!
Création de point devrait prendre par défaut le cookie.
BOF: NAV: Memoriser coches autres sites & services
NAV: Revoir bug comportement Permalink.Cookies
Fichier carte = git.ajax.WRI

BEST TO DO
==========
Bug suppression poly dans editeur => ça rame aprés !
Sur IE + EDGE: sélecteur de coordonnées: liste aussi le nom des fonctions
Permalink cookies: ne devrait pas enregistrer le cookie à chaque layer affiché (y compris icones) 
e.target.status != 429 => Afficher msg erreur (implementer un callback)
Download GPX en EDGE : => null (1).txt
Extraction GPX bbox=écran
NAV/lecture inclue fichier ne le rend pas éditable
NAV: décoche tous choix de type de picto = pas de pictos (pour autre usage de la carte)
WRI: Carte par defaut fiche Angleterre (manque le contour localisation administrative)
Intégrer GoeoJSON avec GeoBB
Click sur cadre entoure en bleu
Renommer GetGpxFile -> FileDownload ???
Changer l'icones permut (unicode 1F501 à 4)
	1F5C1 -> folder
	1F5AB ou C -> Disquette
Afficher altitude & heure sur survol point ou segment d'une courbe
	https://github.com/mpetazzoni/leaflet-gpx
	https://github.com/arthur-e/Wicket
Editeur
	Purge des points identiques sur un segment
	Importer (en + de geojson, gpx, kml)
		https://github.com/mapbox/leaflet-omnivore CSV, WKT (via wellknown), TopoJSON
	Exporter
		"save as"
		Exporter formats gpx, kml, geojson
		Formats import/export: GPX,KML,KMZ,GPI,WPT,TRK,RTE,CSV,GDB,MPS,TXT : https://www.gps-data-team.com/convert.php
	TEST: Edition massif avec trou
Carte andorre
Control.Draw.Plus.js: layer.options.editing = {}; // Voir pourquoi (nouvelle version de draw)
Swiss: getcapabilities / time de la carte
Fork me: https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png

DOC TESTS & DEMOS
=================
Faire Readme, doc, test, demo, v1.0 & github permalink.cookies & Marker.coordinates
Faire des fichiers de TEST (edit, ...) basés sur src/ll... # fichiers index.html DÉMO
Traduire en anglais
Passer http://www.javascriptlint.com/online_lint.php
Passer http://jsbeautifier.org/
Chainage des demos + V1
Quand uploadé sur le io.github, remettre les libs des démos des plugins Dom92 en chemin externe
Dom plugins & demos: Dom92.L.IGN, Swiss, IDEE, IGM
Doc read.me === doc en tête de fichier === index.html

BUILD BEST TO DO
================
Optim noms internes longs ??
Voir https://tortoisegit.org/

V1.0
====
Démo viseur/V1.0 KO
Draw+ V1 KO

IMPORT GARMIN
=============
Basecamp
Ma Collection
Fichier importer
Glisser de Ma Collection-fichier vers Stockage interne

Vérification finale avant mise en prod
======================================
Résorber DCMM GEO DELETE
Mettre _ devant les methodes de classes internes
https://github.com/Leaflet/Leaflet/blob/master/CONTRIBUTING.md
http://www.javascriptlint.com/online_lint.php
	vérif , en fin de tablo ???
https://github.com/airbnb/javascript
Style commentaires:
/*
Switzerland Coordinate Reference System
 */

Finalement, on ne va pas les faire
==================================
Edit: Arrondir les lonlat Json à 5 décimales
On ne peut pas cliquer sur un zap du même segment en création
Faire des makers avec CircleMarker, ...
Cartes transparentes -> les couches doivent passer en overlay
cut -> laisser créer le sommet puis le détruire là et couper
Draw : garder les controles ouverts comme par défaut. Stratégie draw
Layer cadre avec rectangle. => Pas trouvé à faire un rectangle fixe !
BOF / nécéssite export...: A voir: https://github.com/calvinmetcalf/leaflet-ajax
BEST ? Implémenter automatiquement les diff: http://php.net/manual/fr/function.xdiff-file-patch.php

APPLI
=====
Faire un html auto executable avec seulement outdoors et non interruptible (en faire une appli ?)
Fonction de téléchargement des dalles dans un périmètre donné

WRI
===
Style: 2 .menu UL {
Edition / creation / suppression polygones autres que massif
Charger fichier GPX: pas sur un mobile !!
FIREFOX NAV: Ctrl + Click icône: affiche le point dans un nouvel onglet mais reste sur la carte." -> pas fonctionnel sur firefox, ça passe sur le nouvel onglet
Voir archivage GITHUB de principe_fonctionnement_refuges.info.txt ??
Déraciner le wiki
Passage en templates gestion/index.php
API: erreur sur geom vide dans un polynome
DOC API: Mettre l'entête et le pied
API: Durée cache réglable
API: Passage template <?...?> des vues/api // vues/api => repli si pas de $polygone->geometrie !!

NOTES
=====
MultiPolygon multiple => WRI massif 3116
MultiPolygon avec trou => WRI massif 3127
